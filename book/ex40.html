
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from learnpythonthehardway.org/book/ex40.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 01 Aug 2012 02:03:16 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Exercise 40: Modules, Classes, And Objects &mdash; Learn Python The Hard Way, 2nd Edition</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Learn Python The Hard Way, 2nd Edition" href="index-2.html" />
    <link rel="next" title="Exercise 41: Learning To Speak Object Oriented" href="ex41.html" />
    <link rel="prev" title="Exercise 39: Dictionaries, Oh Lovely Dictionaries" href="ex39.html" /> 
  </head>
  <body>
    <div class="related">
        <ul>
        <li class="right"><a style="color: #C40B46;" href="http://learncodethehardway.org/contact.html" title="Need Help?">Need Help?</a></li>
        <li class="right"><a style="color: #C40B46;" href="http://regex.learncodethehardway.org/" title="Learn Regex">Learn Regex</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://sql.learncodethehardway.org/" title="Learn SQL">Learn SQL</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://c.learncodethehardway.org/" title="Learn C">Learn C</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://ruby.learncodethehardway.org/" title="Learn Ruby">Learn Ruby</a> | </li>
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19967/19291?referer=http%3A//learnpythonthehardway.org/book/"><b>Buy PDF - $2.99</b></a> |
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19968/19292?referer=http%3A//learnpythonthehardway.org/book/"><b>ePub - $2.99</b></a> |
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19969/19293?referer=http%3A//learnpythonthehardway.org/book/"><b>Both - $5</b></a></li>
        </ul>
    </div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="ex41.html" title="Exercise 41: Learning To Speak Object Oriented"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="ex39.html" title="Exercise 39: Dictionaries, Oh Lovely Dictionaries"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Learn Python The Hard Way, 2nd Edition</a> &raquo;</li> 
        <li class="right"><a href="search.html" title="search">search</a> | </li>
      </ul>
    </div>



    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="exercise-40-modules-classes-and-objects">
<h1>Exercise 40: Modules, Classes, And Objects<a class="headerlink" href="#exercise-40-modules-classes-and-objects" title="Permalink to this headline">¶</a></h1>
<p>Python is something called an &quot;Object Oriented Programming Language&quot;.  What this
means is there's a construct in Python called a <cite>class</cite> that lets you
structure your software in a particular way.  Using classes you can add
consistency to your programs so that they can be used in a cleaner way, or at
least that's the theory.</p>
<p>I am now going to try to teach you the beginnings of Object Oriented Programming,
classes, and objects using what you already know about dictionaries and modules.
My problem though is that Object Oriented Programming (aka OOP) is just plain
weird.  You have to simply struggle with this, try to understand what I say
here, type in the code, and then in the next exercise I'll hammer it in.</p>
<p>Here we go.</p>
<div class="section" id="modules-are-like-dictionaries">
<h2>Modules Are Like Dictionaries<a class="headerlink" href="#modules-are-like-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>You know how a dictionary is created and used, and that it is a way to map
one thing to another.  That means if you have a dictionary with a key
'apple' and you want to get it then you do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mystuff</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;apple&#39;</span><span class="p">:</span> <span class="s">&quot;I AM APPLES!&quot;</span><span class="p">}</span>
<span class="k">print</span> <span class="n">mystuff</span><span class="p">[</span><span class="s">&#39;apple&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Keep this idea of &quot;get X from Y&quot; in your head, and now think about modules.
You've made a few so far, and used them, and you know they are:</p>
<ol class="arabic simple">
<li>A Python file with some functions or variables in it.</li>
<li>You then import that file.</li>
<li>And then you can access the functions or variables in that module with the '.' (dot) operator.</li>
</ol>
<p>Imagine if I have a module that I decide to name <cite>mystuff.py</cite> and I put a function
in it called <cite>apple</cite>.  Here's the module <cite>mystuff.py</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># this goes in mystuff.py</span>
<span class="k">def</span> <span class="nf">apple</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&quot;I AM APPLES!&quot;</span>
</pre></div>
</div>
<p>Once I have that, I can use that module with <cite>import</cite> and then access the
<cite>apple</cite> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">mystuff</span>

<span class="n">mystuff</span><span class="o">.</span><span class="n">apple</span><span class="p">()</span>
</pre></div>
</div>
<p>I could also put a variable in it named <cite>tangerine</cite> like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">apple</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&quot;I AM APPLES!&quot;</span>

<span class="c"># this is just a variable</span>
<span class="n">tangerine</span> <span class="o">=</span> <span class="s">&quot;Living reflection of a dream&quot;</span>
</pre></div>
</div>
<p>Then again I can access that the same way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">mystuff</span>

<span class="n">mystuff</span><span class="o">.</span><span class="n">apple</span><span class="p">()</span>
<span class="k">print</span> <span class="n">mystuff</span><span class="o">.</span><span class="n">tangerine</span>
</pre></div>
</div>
<p>Go refer back to the dictionary, and you should start to see how this is
similar to using a dictionary, but the syntax is different.  Let's compare:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mystuff</span><span class="p">[</span><span class="s">&#39;apple&#39;</span><span class="p">]</span> <span class="c"># get apple from dict</span>
<span class="n">mystuff</span><span class="o">.</span><span class="n">apple</span><span class="p">()</span> <span class="c"># get apple from the module</span>
<span class="n">mystuff</span><span class="o">.</span><span class="n">tangerine</span> <span class="c"># same thing, it&#39;s just a variable</span>
</pre></div>
</div>
<p>This means we have a <em>very</em> common pattern in Python of this:</p>
<ol class="arabic simple">
<li>Take a key=value style container.</li>
<li>Get something out of it by the key's name.</li>
</ol>
<p>In the case of the dictionary, the key is a string and the syntax
is <cite>[key]</cite>.  In the case of the module, the key is an identifier,
and the syntax is <cite>.key</cite>.  Other than that they are nearly the same
thing.</p>
</div>
<div class="section" id="classes-are-like-modules">
<h2>Classes Are Like Modules<a class="headerlink" href="#classes-are-like-modules" title="Permalink to this headline">¶</a></h2>
<p>A way to think about modules is they are a specialized dictionary that
can store Python code so you can get to it with the <cite>'.'</cite> operator.
Python also has another construct that serves a similar purpose called
a <cite>class</cite>.  A <cite>class</cite> is a way to take a grouping of functions and
data and place them inside a container so you can access them with the
<cite>'.'</cite> (dot) operator.</p>
<p>If I were to create a class just like the <cite>mystuff</cite> module, I'd do something
like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyStuff</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tangerine</span> <span class="o">=</span> <span class="s">&quot;And now a thousand years between&quot;</span>

    <span class="k">def</span> <span class="nf">apple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;I AM CLASSY APPLES!&quot;</span>
</pre></div>
</div>
<p>That looks complicated compared to modules, and there is definitely
a lot going on by comparison, but you should be able to make out how this
is like a &quot;mini-module&quot; with <cite>MyStuff</cite> having an <cite>apple()</cite> function in it.
What is probably confusing with this is the <cite>__init__()</cite> function and use
of <cite>self.tangerine</cite> for setting the <cite>tangerine</cite> variable.</p>
<p>Here's why classes are used instead of modules:  You can take the above class,
and use it to craft many of them, millions at a time if you want,
and they won't interfere with each other.  With modules, when you import
there is only one for the entire program unless you do some monster hacks.</p>
<p>Before you can understand this though, you need to know what an &quot;object&quot;
is and how to work with <cite>MyStuff</cite> just like you do with the <cite>mystuff.py</cite>
module.</p>
</div>
<div class="section" id="objects-are-like-mini-imports">
<h2>Objects Are Like Mini Imports<a class="headerlink" href="#objects-are-like-mini-imports" title="Permalink to this headline">¶</a></h2>
<p>If a <cite>class</cite> is like a &quot;mini-module&quot;, then there has to be a similar
concept to <cite>import</cite> but for classes.  That concept is called &quot;instantiate&quot;
which is just a fancy obnoxious overly smart way to say &quot;create&quot;.  When
you instantiate a class, what you get is called an <cite>object</cite>.</p>
<p>The way you do this is you call the <cite>class</cite> like it's a function, like
this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">thing</span> <span class="o">=</span> <span class="n">MyStuff</span><span class="p">()</span>
<span class="n">thing</span><span class="o">.</span><span class="n">apple</span><span class="p">()</span>
<span class="k">print</span> <span class="n">thing</span><span class="o">.</span><span class="n">tangerine</span>
</pre></div>
</div>
<p>The first line is the &quot;instantiate&quot; operation, and it's a lot like calling
a function.  However, when you call this there's a sequence of events
that Python coordinates for you.  I'll go through them using the above
code for <cite>MyStuff</cite>:</p>
<ol class="arabic simple">
<li>Python looks for <cite>MyStuff()</cite> and sees that it is a <cite>class</cite> you've defined.</li>
<li>Python crafts an empty object with all the functions you've specified
in the class using <cite>def</cite>.</li>
<li>Python then looks to see if you made a &quot;magic&quot; <cite>__init__</cite> function, and if
you have it calls that function to initialize your newly created empty
object.</li>
<li>In the <cite>MyStuff</cite> function <cite>__init__</cite> I then get this extra variable
<cite>self</cite> which is that empty object Python made for me, and I can
set variables on it just like you would with a module, dict, or other
object.</li>
<li>In this case, I set <cite>self.tangerine</cite> to a song lyric and then I've
initialized this object.</li>
<li>Now Python can take this newly minted object, and assign it to the
<cite>thing</cite> variable for me to work with.</li>
</ol>
<p>That's the basics of how Python does this &quot;mini-import&quot; when you call
a <cite>class</cite> like a function.  Remember that this is <em>not</em> giving you the
class, but instead it is using the class as a <em>blueprint</em> for how to
build a copy of that type of thing.</p>
<p>Keep in mind that I'm giving you a slightly inaccurate idea for how these work
so that you can start to build up an understanding of classes based on what you
know of modules.  The truth is, classes and objects suddenly diverge from
modules at this point.  If I were being totally honest, I'd say something more
like this:</p>
<ul class="simple">
<li>Classes are like blueprints or definitions for creating new mini-modules.</li>
<li>Instantiation is how you make one of these mini-modules <em>and</em> import it at
the same time.</li>
<li>The resulting created mini-module is called an <cite>object</cite> and you then assign
it to a variable to work with it.</li>
</ul>
<p>After this though classes and objects become very different from modules and
this should only serve as a way for you to bridge over to understanding classes.</p>
</div>
<div class="section" id="getting-things-from-things">
<h2>Getting Things From Things<a class="headerlink" href="#getting-things-from-things" title="Permalink to this headline">¶</a></h2>
<p>I now have three ways to &quot;get things from things&quot;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># dict style</span>
<span class="n">mystuff</span><span class="p">[</span><span class="s">&#39;apples&#39;</span><span class="p">]</span>

<span class="c"># module style</span>
<span class="n">mystuff</span><span class="o">.</span><span class="n">apples</span><span class="p">()</span>
<span class="k">print</span> <span class="n">mystuff</span><span class="o">.</span><span class="n">tangerine</span>

<span class="c"># class style</span>
<span class="n">thing</span> <span class="o">=</span> <span class="n">MyStuff</span><span class="p">()</span>
<span class="n">thing</span><span class="o">.</span><span class="n">apples</span><span class="p">()</span>
<span class="k">print</span> <span class="n">thing</span><span class="o">.</span><span class="n">tangerine</span>
</pre></div>
</div>
</div>
<div class="section" id="a-first-class-example">
<h2>A First Class Example<a class="headerlink" href="#a-first-class-example" title="Permalink to this headline">¶</a></h2>
<p>You should start seeing the similarities in these three key=value container
types and probably have a bunch of questions.  Hang on with the questions,
as the next exercise is going to hammer home your &quot;object oriented vocabulary&quot;.
In this exercise, I just want you to type in this code and get it working
so that you have some experience before moving on.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Song</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lyrics</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lyrics</span> <span class="o">=</span> <span class="n">lyrics</span>

    <span class="k">def</span> <span class="nf">sing_me_a_song</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lyrics</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">line</span>

<span class="n">happy_bday</span> <span class="o">=</span> <span class="n">Song</span><span class="p">([</span><span class="s">&quot;Happy birthday to you&quot;</span><span class="p">,</span>
                   <span class="s">&quot;I don&#39;t want to get sued&quot;</span><span class="p">,</span>
                   <span class="s">&quot;So I&#39;ll stop right there&quot;</span><span class="p">])</span>

<span class="n">bulls_on_parade</span> <span class="o">=</span> <span class="n">Song</span><span class="p">([</span><span class="s">&quot;They rally around the family&quot;</span><span class="p">,</span>
                        <span class="s">&quot;With pockets full of shells&quot;</span><span class="p">])</span>

<span class="n">happy_bday</span><span class="o">.</span><span class="n">sing_me_a_song</span><span class="p">()</span>

<span class="n">bulls_on_parade</span><span class="o">.</span><span class="n">sing_me_a_song</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="what-you-should-see">
<h3>What You Should See<a class="headerlink" href="#what-you-should-see" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span class="go">Happy birthday to you</span>
<span class="go">I don&#39;t want to get sued</span>
<span class="go">So I&#39;ll stop right there</span>
<span class="go">They rally around the family</span>
<span class="go">With pockets full of shells</span>
</pre></div>
</div>
</div>
<div class="section" id="extra-credit">
<h3>Extra Credit<a class="headerlink" href="#extra-credit" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Write some more songs using this, make sure you understand that you're
passing a list of strings as the lyrics.</li>
<li>Put the lyrics in a separate variable, then pass that variable to the
class to use instead.</li>
<li>See if you can hack on this and make it do more things.  Don't worry if
you have no idea how, just give it a try, see what happens.  Break it,
trash it, thrash it, you can't hurt it.</li>
<li>Search online for &quot;object oriented programming&quot; and try to overflow your
brain with what you read.  Don't worry if it makes absolutely no sense
to you.  Half of that stuff makes no sense to me too.</li>
</ol>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
        <ul>
        <li class="right"><a style="color: #C40B46;" href="http://learncodethehardway.org/contact.html" title="Need Help?">Need Help?</a></li>
        <li class="right"><a style="color: #C40B46;" href="http://regex.learncodethehardway.org/" title="Learn Regex">Learn Regex</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://sql.learncodethehardway.org/" title="Learn SQL">Learn SQL</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://c.learncodethehardway.org/" title="Learn C">Learn C</a> | </li>
        <li class="right"><a style="color: #C40B46;" href="http://ruby.learncodethehardway.org/" title="Learn Ruby">Learn Ruby</a> | </li>
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19967/19291?referer=http%3A//learnpythonthehardway.org/book/"><b>Buy PDF - $2.99</b></a> |
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19968/19292?referer=http%3A//learnpythonthehardway.org/book/"><b>ePub - $2.99</b></a> |
        <li><a style="color: #C40B46;" href="https://getdpd.com/v2/cart/add/8273/19969/19293?referer=http%3A//learnpythonthehardway.org/book/"><b>Both - $5</b></a></li>
        </ul>
    </div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="ex41.html" title="Exercise 41: Learning To Speak Object Oriented"
             >next</a></li>
        <li class="right" >
          <a href="ex39.html" title="Exercise 39: Dictionaries, Oh Lovely Dictionaries"
             >previous</a> |</li>
        <li><a href="../index.html">Learn Python The Hard Way, 2nd Edition</a> &raquo;</li> 
        <li class="right"><a href="search.html" title="search">search</a> | </li>
      </ul>
    </div>
    <a name="comments"><hr/></a>
<div sytle="text-align: left">
    <div style="background: white; padding: 10px" id="disqus_thread"></div>
</div>
    <script type="text/javascript">
        var dow = new Date().getDay();

        if(dow == 5 || dow == 6) {
            $("#disqus_thread").html("<h1>Today Is Zed's Day Off</h1><p>I take Friday and Saturday off.  Comments open again on Sunday-Thursday.</p>")
        } else {
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'learn-code-the-hard-way'; // required: replace example with your forum shortname


            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        }
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div class="footer">
      &copy; Copyright 2010, Zed A. Shaw.
      Last updated on Jul 26, 2012.
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24168052-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  </body>

<!-- Mirrored from learnpythonthehardway.org/book/ex40.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 01 Aug 2012 02:03:16 GMT -->
</html>